<html>
<head>
    <meta charset='utf-8' />
    <title>Mapbox estilo</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.mapbox.com/mapbox-gl-js/v1.7.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v1.7.0/mapbox-gl.css' rel='stylesheet' />
    <script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.4.2/mapbox-gl-geocoder.min.js"></script>
    <link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.4.2/mapbox-gl-geocoder.css" type="text/css"/>
    <link href='css/mapabase.css' rel='stylesheet' />  


    <style>
        body {
            margin: 0;
            padding: 0;
        }
        #map {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 100%;
            height: 100%
        }
    </style>
    <script>
        var map;
        function init() {

            //aqui afegfim un mapa de mapbox, un "styles"

            mapboxgl.accessToken =  
                'pk.eyJ1Ijoic3VxdWV0NzkiLCJhIjoiY2s0OHRicWN6MTVkcTNsbGY0MmI2NXRwOSJ9.Vhk9cAQbRBmhaYrlfG5ABQ';
            map = new mapboxgl.Map({
                container: 'map',
                style: 'mapbox://styles/suquet79/ck697yvgl0od51ipimihneb6y',
                center: [2.8364498, 41.9720266],
                zoom: 18,
                pitch: 45,
                attributionControl: false
            });

            //https://docs.mapbox.com/mapbox-gl-js/api/#user%20interface
            map.addControl(new mapboxgl.AttributionControl({compact: true}));
            map.addControl(new mapboxgl.NavigationControl());

            map.addControl(new mapboxgl.FullscreenControl({container: document.querySelector('body')}));

          
            map.on('load', function () {

                //MOBILIARIO////////////////////////////////////////////////////////////
                //ARBOLES
                map.addSource("arbolesSource", {
                    type: "vector",
                    url: "mapbox://suquet79.89dsg9ql" //poner mapbox://vuestro id
                }); //fin map source

                map.addLayer({
                    id: "arboles",
                    type: "circle",
                    source: "arbolesSource",
                    'source-layer': "arbres-7iy4l8", //poner vuestro titulo capa
                    paint:{
                        'circle-radius': 3,
                        'circle-opacity':1,
                        'circle-color':"rgb( 16, 120, 7  )"
                    }
                });

                //AUTOBUS
                map.addSource("autobusSource", {
                    type: "vector",
                    url: "mapbox://suquet79.4kkuy6wh" //poner mapbox://vuestro id
                }); //fin map source

                map.addLayer({
                    id: "autobus",
                    type: "circle",
                    source: "autobusSource",
                    'source-layer': "autobus-6jjjkb", //poner vuestro titulo capa
                    paint:{
                        'circle-radius': 3,
                        'circle-opacity':1,
                        'circle-color':"rgb(  41, 252, 114   )"
                    }
                });

                //BANCOS
                map.addSource("bancosSource", {
                    type: "vector",
                    url: "mapbox://suquet79.8lw26uwq" //poner mapbox://vuestro id
                }); //fin map source

                map.addLayer({
                    id: "bancos",
                    type: "circle",
                    source: "bancosSource",
                    'source-layer': "bancs-4aae9e", //poner vuestro titulo capa
                    paint:{
                        'circle-radius': 3,
                        'circle-opacity':1,
                        'circle-color':"rgb(  241, 22, 194   )"
                    }
                });


                //FAROLES
                map.addSource("farolasSource", {
                    type: "vector",
                    url: "mapbox://suquet79.3e91jyqe" //poner mapbox://vuestro id
                }); //fin map source

                map.addLayer({
                    id: "farolas",
                    type: "circle",
                    source: "farolasSource",
                    'source-layer': "faroles-9fp0sq", //poner vuestro titulo capa
                    paint:{
                        'circle-radius': 3,
                        'circle-opacity':1,
                        'circle-color':"rgb(   108, 84, 65  )"
                    }
                });

                //SEMAFORS
                map.addSource("semaforosSource", {
                    type: "vector",
                    url: "mapbox://suquet79.dyi8on9x" //poner mapbox://vuestro id
                }); //fin map source

                map.addLayer({
                    id: "semaforos",
                    type: "circle",
                    source: "semaforosSource",
                    'source-layer': "semafors-cpo3vo", //poner vuestro titulo capa
                    paint:{
                        'circle-radius': 3,
                        'circle-opacity':1,
                        'circle-color':"rgb( 0, 0,0 )"
                    }
                });


                //SEPULTURAS////////////////////////////////////////////////////////////////////////////
                //ALTARES
                map.addSource("altaresSource", {
                    type: "vector",
                    url: "mapbox://suquet79.6pp568yc" //poner mapbox://vuestro id
                }); //fin map source

                map.addLayer({
                    id: "altares",
                    type: "circle",
                    source: "altaresSource",
                    'source-layer': "altares-3bb9cm", //poner vuestro titulo capa
                    paint:{
                        'circle-radius': 3,
                        'circle-opacity':1,
                        'circle-color':"rgb(  204, 93, 207   )"
                    }
                });
                //COLUMBARIO
                map.addSource("columbarioSource", {
                    type: "vector",
                    url: "mapbox://suquet79.binp89rm" //poner mapbox://vuestro id
                }); //fin map source

                map.addLayer({
                    id: "columbario",
                    type: "circle",
                    source: "columbarioSource",
                    'source-layer': "columbario-c8s400", //poner vuestro titulo capa
                    paint:{
                        'circle-radius': 3,
                        'circle-opacity':1,
                        'circle-color':"rgb(  41, 205, 238  )"
                    }
                });
                
                //HIPOGEO
                map.addSource("hipo", {
                    type: "vector",
                    url: "mapbox://suquet79.4c1vpk2q" //poner mapbox://vuestro id
                }); //fin map source

                map.addLayer({
                    id: "hipogeo",
                    type: "circle",
                    source: "hipo",
                    'source-layer': "hipogeo-5aivid", //poner vuestro titulo capa
                    paint:{
                        'circle-radius': 3,
                        'circle-opacity':1,
                        'circle-color':"rgb(   251, 113, 5    )"
                    }
                });

                //NICHO
                map.addSource("ni", {
                    type: "vector",
                    url: "mapbox://suquet79.76t5zs8l" //poner mapbox://vuestro id
                }); //fin map source

                map.addLayer({
                    id: "nicho",
                    type: "circle",
                    source: "ni",
                    'source-layer': "nicho-0r4xwo", //poner vuestro titulo capa
                    paint:{
                        'circle-radius': 3,
                        'circle-opacity':1,
                        'circle-color':"rgb(   70, 211, 123   )"
                    }
                });
                
                //PANTEON
                map.addSource("pant", {
                    type: "vector",
                    url: "mapbox://suquet79.a07yqbg2" //poner mapbox://vuestro id
                }); //fin map source

                map.addLayer({
                    id: "panteon",
                    type: "circle",
                    source: "pant",
                    'source-layer': "panteon-4u873i", //poner vuestro titulo capa
                    paint:{
                        'circle-radius': 3,
                        'circle-opacity':1,
                        'circle-color':"rgb(  166, 70, 211  )"
                    }
                });

                
                //TUMBAS
                map.addSource("tumb", {
                    type: "vector",
                    url: "mapbox://suquet79.0v3yj90m" //poner mapbox://vuestro id
                }); //fin map source

                map.addLayer({
                    id: "tumbas",
                    type: "circle",
                    source: "tumb",
                    'source-layer': "tumba-87fx1j", //poner vuestro titulo capa
                    paint:{
                        'circle-radius': 3,
                        'circle-opacity':1,
                        'circle-color':"rgb(255, 255, 0)"
                    }
                });

                             
               //SIGLOS////////////////////////////////////////////////////

                //SEPULTURAS SXX
                map.addSource("sepSxx", {
                    type: "vector",
                    url: "mapbox://suquet79.abe2qkjw" //poner mapbox://vuestro id
                }); //fin map source

                map.addLayer({
                    id: "sepulturaXX",
                    type: "circle",
                    source: "sepSxx",
                    'source-layer': "sepeulturas_sXX-1goi5q", //poner vuestro titulo capa
                    paint:{
                        'circle-radius': 3,
                        'circle-opacity':0.1,
                        'circle-color':"rgb(255, 0, 0)"
                    }
                });

                //SEPULTURAS SXIX
                map.addSource("sepSxIx", {
                    type: "vector",
                    url: "mapbox://suquet79.9ibk1atk" //poner mapbox://vuestro id
                }); //fin map source

                map.addLayer({
                    id: "sepulturaXIX",
                    type: "circle",
                    source: "sepSxIx",
                    'source-layer': "sepeulturas_sXIX-4sfjc0", //poner vuestro titulo capa
                    paint:{
                        'circle-radius': 3,
                        'circle-opacity':0.1,
                        'circle-color':"rgb(0, 0, 255)"
                    }
                });

            
                
                //CEMGI
                map.addSource("cement", {
                    type: "vector",
                    url: "mapbox://suquet79.74oga876" //poner mapbox://vuestro id
                }); //fin map source

                map.addLayer({
                    id: "cementerio",
                    type: "fill-extrusion",
                    source: "cement",
                    'source-layer': "cemgi-9jdeu2", //poner vuestro titulo capa
                    paint:{
                        'fill-extrusion-base':1,
                        'fill-extrusion-height':5,
                        'fill-extrusion-opacity':0.5,
                        'fill-extrusion-color':"rgb(0, 0, 255)"
                    }
                });
                
                



            });


        }
        function activarCapa(activo,tipo){
            

            if (tipo==="arboles"){
                alert (tipo);
                if (activo){
                        map.setLayoutProperty("arboles", "visibility", "visible");
                    }else{
                        map.setLayoutProperty("arboles", "visibility", "none");
                        
                    }
            }else if (tipo==="autobus"){
                alert (tipo);
            }
            
        }
     

            
    </script>
</head>

<body onload="init()">

    <div class="panelTopIzquierda">
        <h1>Mobiliari</h1>
        <p><input OnChange="activarCapa(this.checked,this.name)"   type="checkbox" checked name="arboles"> Arboles</p>
        <p><input OnChange="activarCapa(this.checked,this.name)"   type="checkbox" checked name="autobus"> Autobus</p>
        <p><input OnChange="activarCapa(this.checked,this.name)"   type="checkbox" checked name="bancos"> Bancos</p>
        <p><input OnChange="activarCapa(this.checked,this.value)"   type="checkbox" checked value="farolas"> Farolas</p>
        <p><input OnChange="activarCapa(this.checked,this.value)"   type="checkbox" checked value="semafors"> Semaforos</p>
        <h1>Sepulturas</h1>
        <p><input OnChange="activarCapa(this.checked,this.value)"   type="checkbox" checked value="altares"> Altares</p>
        <p><input OnChange="activarCapa(this.checked,this.value)"   type="checkbox" checked value="columbario"> Columbario</p>
        <p><input OnChange="activarCapa(this.checked,this.value)"   type="checkbox" checked value="hipogeo"> Hipogeo</p>
        <p><input OnChange="activarCapa(this.checked,this.value)"   type="checkbox" checked value="nicho"> Nicho</p>
        <p><input OnChange="activarCapa(this.checked,this.value)"   type="checkbox" checked value="panteon"> Panteon</p>
        <p><input OnChange="activarCapa(this.checked,this.value)"   type="checkbox" checked value="tumbas"> Tumbas</p>
        <h1>Sepulturas por siglos</h1>
        <p><input OnChange="activarCapa(this.checked,this.value)"   type="checkbox" checked value="XIX"> Siglo XIX</p>
        <p><input OnChange="activarCapa(this.checked,this.value)"   type="checkbox" checked value="XX"> Siglo XX</p>
        <h1>Estructura</h1>
        <p><input OnChange="activarCapa(this.checked,this.value)"   type="checkbox" checked value="estructura"> Estructura</p>

        
        
    </div>                 


    <div id="map"></div>
</body>

</html>  
